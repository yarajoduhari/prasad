library 'default@master'

pipeline {
  agent {
    kubernetes {
      yamlFile 'kubernetespod.yml'
    }
   }
    stages {
    stage('Init') {
      steps {
        script {
          // Build the jars
          git 'https://github.com/yarajoduhari/maven-standalone-application.git'
          // word length checker  
          branchlint()
          }
        }
      }
    stage('maven') {
      steps{
       container('maven') {
        sh "mvn clean install"
        }
        }
      }
     stage('Building docker') {
      steps {
            container('docker') {
              sh 'docker login http://192.168.49.2:8081 -uadmin -padmin'
            }
          }
        }
    }
  }
